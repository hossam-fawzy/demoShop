<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE suite SYSTEM "https://testng.org/testng-1.0.dtd">

<suite name="DemoWebShop_CI" >

    <!-- Listeners for Allure and custom logging -->
    <listeners>
        <listener class-name="io.qameta.allure.testng.AllureTestNg"/>
        <listener class-name="listeners.TestListener"/>
    </listeners>

<!--    <test name="SmokeTests">-->
<!--        <groups>-->
<!--            <run>-->
<!--                <include name="smoke"/>-->
<!--            </run>-->
<!--        </groups>-->
<!--        <packages>-->
<!--            <package name="tests"/>-->
<!--        </packages>-->
<!--    </test>-->


    <!-- ============================= -->
    <!-- SMOKE TESTS (Critical path) -->
    <!-- Runs first for fast CI feedback -->
    <!-- ============================= -->
    <test name="SmokeTests" preserve-order="true">
        <classes>
            <class name="tests.HomeTest"/>

            <class name="tests.LoginTest">
                <methods>
                    <include name="validLoginTest"/>
                    <include name="verifyLoginPageElementsTest"/>
                    <include name="forgotPasswordLinkTest"/>
                    <include name="completeLoginLogoutFlowTest"/>
                </methods>
            </class>

            <class name="tests.RegistrationTest">
                <methods>
                    <include name="verifyRegistrationPageElementsTest"/>
                    <include name="successfulRegistrationTest"/>
                    <include name="registrationWithEmptyFieldsTest"/>
                    <include name="registrationWithInvalidEmailTest"/>
                </methods>
            </class>

            <class name="tests.PDPTest">
                <methods>
                    <include name="verifyProductInformationTest"/>
                    <include name="verifyDefaultQuantityTest"/>
                    <include name="setQuantityDirectlyTest"/>
                </methods>
            </class>

            <class name="tests.CartTest">
                <methods>
                    <include name="verifyProductInformationTest"/>
                    <include name="verifyDefaultQuantityTest"/>
                    <include name="setQuantityDirectlyTest"/>
                </methods>
            </class>

        </classes>
    </test>


    <!-- API Tests -->
<!--    <test name="API Tests - REST Assured">-->
<!--        <classes>-->
<!--            <class name="api.tests.SampleAPITest"/>-->
<!--        </classes>-->
<!--    </test>-->

<!--    &lt;!&ndash; Hybrid Tests &ndash;&gt;-->
<!--    <test name="Hybrid Tests - UI + API">-->
<!--        <classes>-->
<!--            <class name="tests.HybridUIAPITest"/>-->
<!--        </classes>-->
<!--    </test>-->

    <!-- ============================= -->
    <!-- REGRESSION TESTS (Full coverage) -->
    <!-- Can run in parallel in CI -->
    <!-- ============================= -->
    <test name="RegressionTests" preserve-order="true">
        <groups>
            <run>
                <include name="regression"/>
            </run>
        </groups>
        <classes>
            <class name="tests.LoginTest"/>
            <class name="tests.HomeTest"/>
            <class name="tests.RegistrationTest"/>
            <class name="tests.PDPTest"/>
            <class name="tests.CartTest"/>
            <class name="tests.CheckoutTest"/>
        </classes>
    </test>

    <!-- ============================= -->
    <!-- E2E TESTS (Full workflows) -->
    <!-- Run last in CI/CD -->
    <!-- ============================= -->
<!--    <test name="E2ETests" preserve-order="true">-->
<!--        <groups>-->
<!--            <run>-->
<!--                <include name="e2e"/>-->
<!--            </run>-->
<!--        </groups>-->
<!--        <classes>-->
<!--            <class name="tests.LoginTest">-->
<!--                <methods>-->
<!--                    <include name="completeLoginLogoutFlowTest"/>-->
<!--                </methods>-->
<!--            </class>-->
<!--            <class name="tests.CheckoutTest"/>-->
<!--        </classes>-->
<!--    </test>-->

</suite>
